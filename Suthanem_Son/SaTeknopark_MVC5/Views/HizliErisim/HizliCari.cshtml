
@{
    ViewBag.Title = "Hızlı Cari Ekle";
}

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.2.0/sweetalert2.all.min.js"></script>


<div class="container-fluid" >
    <div class="row pt-3" >
        <div class="col-lg-12 py-5" >
            <div class="ibox " style="box-shadow:8px 12px 14px gray">
                <div class="ibox-title  back-change text-center">
                    <strong style="color : black; font-size:large"> <i class="fa fa-user-circle-o"></i> Hızlı Cari Ekle</strong>
                </div>
             
                    <div class="ibox-content py-5">
                        <div class="row">
                            <div class="col-sm-8 b-r">
                                @*<h3 class="m-t-none m-b">Hızlı Cari Ekleme Kartı </h3>*@
                                <form id="cariveri" method="post" action="/Tables/YeniCari">
                                    <div class="row px-2">
                                        
                                        <div class="col-md-4 px-1 py-2">
                                            <div class="form-group">
                                                <label><b>Firma Kodu</b></label>
                                                <input id="FirmaK" name="FirmaK" type="text" class="form-control" value="@ViewBag.CariKoduSiradaki3">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1 py-2">
                                            <div class="form-group">
                                                <label><b>Firma Adı</b></label>
                                                <input style="" id="CariU" name="CariU" type="text" class="form-control" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1 py-2">
                                            <div class="form-group">
                                                <label><b>Cep Telefonu</b></label>
                                                <input id="Gsm" name="Gsm" type="text" class="form-control" placeholder="" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1">
                                            <div class="form-group">
                                                <label for="exampleInputEmail1"><b>Email</b></label>
                                                <input id="EPos" name="EPos" type="email" class="form-control" value="">
                                            </div>
                                        </div>

                                       
                                        <div class="col-md-4 px-1 py-2">
                                            <div class="form-group">
                                                <label><b>Vergi Dairesi</b></label>
                                                <input id="VergiDr" name="VergiDr" type="text" class="form-control" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1 py-2">
                                            <div class="form-group">
                                                <label><b>VergiNo/Tckn</b></label>
                                                <input id="VergiNo" name="VergiNo" type="text" class="form-control" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1" style="display:block">
                                            <div class="form-group">
                                                <label><b>Ülkeler</b></label>
                                                @Html.DropDownList("Ülke", new SelectList(AyarMetot.Ulkeler(), "Value", "Text", "TR"), "Ülke Seçiniz", new { @id = "Ulke", @class = "form-control" })
                                            </div>
                                        </div>

                                        <div class="col-md-4 px-1">
                                            <div class="form-group">
                                                <label><b>İl</b></label>
                                                <input id="Il" name="Il" type="text" class="form-control" placeholder="" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-4 px-1">
                                            <div class="form-group">
                                                <label><b>İlçe</b></label>
                                                <input id="Ilce" name="Ilce" type="text" class="form-control" placeholder="" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-12 px-1">
                                            <div class="form-group">
                                                <label><b>Adres</b></label>
                                                <input id="Adres" name="Adres" type="text" class="form-control" value="">
                                            </div>
                                        </div>
                                       
                                    </div>

                                    <div class="text-right pt-4">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Kapat</button>
                                        <button type="submit" class="btn btn-primary">Kaydet</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-4">
                                <h4 align="center">Cari Listesini Gör / Detaylı Cari Ekle</h4>
                                <p class="text-center">
                                    <a href="/Tables/Datatables"><i class="fa fa-sign-in big-icon"></i></a>
                                </p>
                            </div>
                        </div>
                    </div>
             
            </div>
        </div>
    </div>

</div>

@section Styles {
    @Styles.Render("~/Content/plugins/dataTables/dataTablesStyles")
    @Styles.Render("~/plugins/select2Styles")

}
@section Scripts {

    @Scripts.Render("~/plugins/select2")
    @Scripts.Render("~/plugins/dataTables")
<script type="text/javascript">

    $("#cariveri").on("submit", function (event) {
        event.preventDefault();

        var obj = {
            id: $("#cID").val(),
            FirmaKodu: $("#FirmaK").val(),
            CariUnvan: $("#CariU").val(),
            Il: $("#Il").val(),
            EkBilgi: $("#EkBilgi").val(),
            Adres: $("#Adres").val(),
            EPosta: $("#EPos").val(),
            Gsm: $("#Gsm").val(),
            Telefon1: $("#Telefon1").val(),
            KTipi: "MÜŞTERİ",
            StokFG: $("#StokFG").val(),
            CariGrubu: $("#CariGrubu").val(),
            VergiDr: $("#VergiDr").val(),
            VergiNo: $("#VergiNo").val(),
            PostaKodu: $("#PostaKodu").val(),
            Yetkili: $("#Yetkili").val(),
            Milleti: $("#Ulke").val(),
            Faks: $("#Faks").val(),
            Yetkili: $("#Yetkili").val(),
            ozelAlan1: $("#ozelAlan1").val(),
            ozelAlan2: $("#ozelAlan2").val(),
            ozelAlan3: $("#ozelAlan3").val(),
            ozelAlan4: $("#ozelAlan4").val(),
            ozelAlan5: $("#ozelAlan5").val(),
            TCNo: $("#TCNo").val(),
            ParaBirimi: $("#ParaBirimi").val(),
            Iskonto: $("#Iskonto").val(),
            MersisNo: $("#MersisNo").val(),
            TicaretSicilNo: $("#TicaretSicilNo").val(),
            BagkurNo: $("#BagkurNo").val(),
            WebKA: $("#WebKA").val(),
            WebSifre: $("#WebSifre").val(),
            Ilce: $("#Ilce").val(),
            WebSite: $("#WebSite").val(),
            MusteriTemsilcisi: $("#MusteriTemsilcisi").val(),
        };
        var alacakB = $("#alacakB").val();
        var borcB = $("#borcB").val();

        $.ajax({
            type: "POST",
            url: '/Tables/YeniCari',
            data: { cr: obj, alacakINT: alacakB, borcINT: borcB },
            dataType: "json",
            success: function (gelenDeg) {

                if (gelenDeg.sonuc == "0") {
                   
                    swal("Uyarı", gelenDeg.Message, "warning");
                        
                } else if (gelenDeg.sonuc == "3") {
                   
                    swal("Hata", gelenDeg.Message, "error");
                        
                } else if (gelenDeg.sonuc == "1") {
                    swal("Başarılı", gelenDeg.Message, "success")
                   .then((value) => {
                       location.reload(true);
                    });

                }

            },
            error: function () {
                swal("Hata", "Kayıt Eklenirken Hata Oluştu!", "error");
            }
        });
    });

</script>

}